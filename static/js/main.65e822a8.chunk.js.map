{"version":3,"sources":["Hand.js","Clock.js","Search.js","City.js","ListOfCities.js","App.js","index.js"],"names":["Hand","height","this","props","width","react_default","a","createElement","className","style","transform","concat","rotation","Component","Clock","state","hourDegrees","minutesDegrees","secondsDegrees","setTime","offset","_this","time","now","Date","getSeconds","minutes","getMinutes","hour","getHours","getTimezoneOffset","setState","setInterval","city","onClick","removeClock","bind","src_Hand","Search","type","name","id","placeholder","onChange","onSearchChange","City","addClock","e","console","log","cityName","region","ListOfCities","citiesTime","_this2","citiesArray","fetch","then","response","json","result","forEach","timezone","utc","array","replace","split","regionName","undefined","includes","newCity","duplicate","push","_this3","searchField","toLowerCase","cities","filter","JSON","stringify","containerStyle","map","i","src_City","key","overflowY","App","customClocks","newClock","clock","Object","toConsumableArray","target","value","parse","localStorage","getItem","setItem","clocks","src_Clock","index","src_Search","src_ListOfCities","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.65e822a8.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./css/Clock.css\";\r\n\r\nclass Hand extends Component {\r\n  render() {\r\n    const height = this.props.height;\r\n    const width = this.props.width;\r\n    return <div className=\"hand\" style={{ height, width, transform: `rotate(${this.props.rotation}deg)` }} />;\r\n  }\r\n}\r\n\r\nexport default Hand;\r\n","import React, { Component } from \"react\";\r\n\r\nimport \"./css/Clock.css\";\r\nimport Hand from \"./Hand\";\r\n\r\nclass Clock extends Component {\r\n  state = {\r\n    hourDegrees: \"\",\r\n    minutesDegrees: \"\",\r\n    secondsDegrees: \"\"\r\n  };\r\n  componentWillMount() {\r\n    setInterval(this.setTime, 1000);\r\n  }\r\n  setTime = () => {\r\n    const offset = this.props.time;\r\n    const now = new Date();\r\n    const seconds = now.getSeconds();\r\n    const secondsDegrees = seconds * 6 - 90; //because of the starting position\r\n    const minutes = now.getMinutes();\r\n    const minutesDegrees = minutes * 6 - 90;\r\n    let hour = now.getHours() + offset + now.getTimezoneOffset() / 60;\r\n    if (hour > 12) {\r\n      hour -= 12;\r\n    }\r\n    hour += minutes / 60;\r\n    const hourDegrees = (hour / 12) * 360 - 90;\r\n    this.setState({\r\n      hourDegrees,\r\n      minutesDegrees,\r\n      secondsDegrees\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const city = this.props.city;\r\n    const time = this.props.time;\r\n\r\n    return (\r\n      <div\r\n        className=\"clock-space\"\r\n        onClick={this.props.removeClock.bind(this, city)}\r\n      >\r\n        <div className=\"clock\">\r\n          <div className=\"clock-face\">\r\n            <Hand width=\"50%\" height=\"6px\" rotation={this.state.hourDegrees} />\r\n            <Hand\r\n              width=\"70%\"\r\n              height=\"4px\"\r\n              rotation={this.state.minutesDegrees}\r\n            />\r\n            <Hand\r\n              width=\"70%\"\r\n              height=\"2px\"\r\n              rotation={this.state.secondsDegrees}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <p>\r\n          {city}, {time} GMT\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Clock;\r\n","import React, { Component } from \"react\";\r\nimport \"./css/Search.css\";\r\n\r\nclass Search extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form>\r\n          <input\r\n            type=\"text\"\r\n            name=\"city\"\r\n            id=\"1\"\r\n            placeholder=\"Find a city\"\r\n            onChange={this.props.onSearchChange}\r\n          />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;\r\n","import React, { Component } from \"react\";\r\nimport \"./css/City.css\";\r\n\r\nclass City extends Component {\r\n  addClock = e => {\r\n    console.log(\"Lets add a clock for \", this.props.city.city);\r\n  };\r\n  render() {\r\n    let city = this.props.city;\r\n    let cityName = city.city;\r\n    let offset = city.time;\r\n    return (\r\n      <div\r\n        className=\"cityCard\"\r\n        onClick={this.props.addClock.bind(this, city)}\r\n      >\r\n        {cityName}, {city.region}, {offset}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default City;\r\n","import React, { Component } from \"react\";\r\nimport City from \"./City\";\r\n\r\nclass ListOfCities extends Component {\r\n  state = {\r\n    citiesTime: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    let citiesArray = [];\r\n    fetch(\r\n      \"https://raw.githubusercontent.com/dmfilipenko/timezones.json/master/timezones.json\"\r\n    )\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        result.forEach(timezone => {\r\n          const offset = timezone.offset;\r\n          timezone.utc.forEach(city => {\r\n            const array = city.replace(\"_\", \" \").split(\"/\");\r\n            const cityName = array[1];\r\n            const regionName = array[0];\r\n            if (cityName === undefined || cityName.includes(\"GMT\")) return;\r\n\r\n            const newCity = {\r\n              city: cityName,\r\n              region: regionName,\r\n              time: offset\r\n            };\r\n            let duplicate = false;\r\n            citiesArray.forEach(city => {\r\n              if (\r\n                city.city === newCity.city &&\r\n                city.region === newCity.region &&\r\n                city.time === newCity.time\r\n              ) {\r\n                duplicate = true;\r\n                return;\r\n              }\r\n            });\r\n            if (!duplicate) {\r\n              citiesArray.push(newCity);\r\n            }\r\n          });\r\n        });\r\n        console.log(citiesArray);\r\n        this.setState({ citiesTime: citiesArray });\r\n      });\r\n  }\r\n\r\n  addClock = () => {\r\n    console.log(\"Hello\");\r\n  };\r\n\r\n  render() {\r\n    let searchField = this.props.searchField.toLowerCase();\r\n    const view = searchField\r\n      ? this.state.citiesTime.filter(result => {\r\n          return JSON.stringify(result)\r\n            .toLowerCase()\r\n            .includes(searchField);\r\n        })\r\n      : this.state.citiesTime;\r\n\r\n    let cities = view;\r\n    return (\r\n      <div style={containerStyle}>\r\n        {cities &&\r\n          cities.map((city, i) => (\r\n            <City key={i} city={city} addClock={this.props.addClock} />\r\n          ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst containerStyle = {\r\n  height: \"60vh\",\r\n  overflowY: \"scroll\"\r\n};\r\n\r\nexport default ListOfCities;\r\n","import React, { Component } from \"react\";\nimport \"./css/App.css\";\nimport Clock from \"./Clock\";\nimport Search from \"./Search\";\nimport ListOfCities from \"./ListOfCities\";\n\nclass App extends Component {\n  state = {\n    searchField: \"\",\n    customClocks: []\n  };\n\n  componentDidMount() {\n    this.setState({\n      customClocks: JSON.parse(localStorage.getItem(\"customClocks\")) || []\n    });\n  }\n\n  componentDidUpdate() {\n    //because setState is asynchronous\n    localStorage.setItem(\n      \"customClocks\",\n      JSON.stringify(this.state.customClocks)\n    );\n  }\n\n  addClock = city => {\n    console.log(\"Here from the app:\", city.city, city.time);\n    const newClock = {\n      city: city.city,\n      time: city.time\n    };\n    let duplicate = false;\n    this.state.customClocks.forEach(clock => {\n      if (clock.city === newClock.city && clock.time === newClock.time) {\n        duplicate = true;\n        return;\n      }\n    });\n    if (!duplicate) {\n      this.setState({ customClocks: [...this.state.customClocks, newClock] });\n    }\n  };\n\n  removeClock = city => {\n    this.setState({\n      customClocks: this.state.customClocks.filter(clock => clock.city !== city)\n    });\n  };\n\n  onSearchChange = e => {\n    this.setState({ searchField: e.target.value });\n  };\n\n  render() {\n    let clocks = this.state.customClocks;\n    return (\n      <div className=\"App\">\n        <h1>World Clocks</h1>\n        <div className=\"boards\">\n          <div className=\"clock-board board\">\n            {clocks.map((clock, i) => (\n              <Clock\n                city={clock.city}\n                time={clock.time}\n                key={i}\n                index={i}\n                removeClock={this.removeClock}\n              />\n            ))}\n          </div>\n          <div className=\"find-city-board board\">\n            <h2>Add new time to the board</h2>\n            <Search onSearchChange={this.onSearchChange} />\n            <ListOfCities\n              searchField={this.state.searchField}\n              addClock={this.addClock}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}